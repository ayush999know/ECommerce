<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Product | ₹5000</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="product-card">
        <div class="product-image animate-float">
            <img src="product.jpg" alt="Premium Product">
        </div>
        <h1 class="animate-fade">Premium Product</h1>
        <p class="price animate-fade">₹5,000</p>
        <p class="description">High-quality product with lifetime warranty</p>
        
        <form id="orderForm">
            <input type="text" placeholder="Your Name" required>
            <input type="email" placeholder="Your Email" required id="userEmail">
            <input type="tel" placeholder="Phone Number" required>
            <button type="submit">ORDER NOW</button>
        </form>

        <div class="auth-options">
            <button id="googleLogin" class="auth-btn google">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google">
                Login with Google
            </button>
            <button id="guestCheckout" class="auth-btn guest">Checkout as Guest</button>
        </div>
    </div>

    <!-- Firebase v9 (Modular) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD8aAA7yyP1CD23IpAf3OlgPDkQznp3NlQ",
            authDomain: "ecommerce-ayush.firebaseapp.com",
            projectId: "ecommerce-ayush",
            storageBucket: "ecommerce-ayush.firebasestorage.app",
            messagingSenderId: "671222303816",
            appId: "1:671222303816:web:a3bcfa456840f72aa21c7d"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Google Login
        document.getElementById('googleLogin').addEventListener('click', async () => {
            try {
                const provider = new GoogleAuthProvider();
                const result = await signInWithPopup(auth, provider);
                document.getElementById('userEmail').value = result.user.email;
                alert(`Logged in as ${result.user.displayName || result.user.email}`);
            } catch (error) {
                alert("Google login failed: " + error.message);
            }
        });

        // Guest Checkout
        document.getElementById('guestCheckout').addEventListener('click', () => {
            document.getElementById('orderForm').style.display = 'block';
        });
    </script>

    <!-- Form Handling -->
    <script src="script.js"></script>
</body>
</html>
